jQuery.validator.addMethod("itiValidNumberCheckout",function(value,element){return this.optional(element)||ITI_LOGIN_CHECKOUT.isValidNumber();},"Please enter a valid  Phone Number");$(function(){setTimeout(function(){var value=$('#login_checkout').val();if(value!==undefined&&value.includes('-')){$('#login_checkout').val(value.replace('-',''));}},1500);$(document).on('change','#login_checkout',function(){var value=$(this).val();if(value.includes('-')){$(this).val(value.replace('-',''));}});$("#checkout-login-form").validate({rules:{login:{required:true,itiValidNumberCheckout:true,},passkey:{required:true,minlength:8}},submitHandler:function(form){var login=ITI_LOGIN_CHECKOUT.getNumber().replace('+','');var passkey=$('#passkey').val();if(login&&passkey){start_full_loader();$.ajax({type:"POST",url:$('#checkout-login-form').data('login-url'),data:{'phone_no':login,'password':passkey,'country_iso2_code':ITI_LOGIN_CHECKOUT.getSelectedCountryData().iso2,},dataType:'json',success:function(data,status){stop_full_loader();if(data.status){$("#checkout-text-wrp h6").css("color","green").html("You have successfully login!");window.location.href=window.location.href;}
else{var sign_up_url=$('#checkout-login-form').data('sign-up-url');var forgot_password_url=$('#checkout-login-form').data('forgot-url');if(data.errorType=="ivalid_login"){$("#checkout-text-wrp h6").css("color","red").html("Record not found. Please <a style='color: red;text-transform: none;font-weight: bold;' href="+sign_up_url+"?ref="+checkout_url+">SIGN UP</a> first.");}
else if(data.errorType=="ivalid_password"){$("#checkout-text-wrp h6").css("color","red").html("Password does not match. If you forgot your password please try <a style='color: red;text-transform: none;font-weight: bold;' href="+forgot_password_url+">Recover Password</a>");}}},error:function(xhr,desc,err){}});}},unhighlight:function(element,errorClass,validClass){$(element).next('label.error').remove();},errorPlacement:function(error,element){element.after(error);}});});;